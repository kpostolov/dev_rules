[< Содержание](/README.md)
## Работа с хранилищем

* Запрещено захватывать корень более чем на час.
* Любые манипуляции с восстановлением хранилища может делать только администратор.
* Управлять версиями ("сливать") также может только администратор.
* В конце каждой недели необходимо проверять захваченные объекты конфигурации.
* При помещении захваченного корня использование рекурсии можно делать только в случае, если захвачены все объекты. В противном случае процедура помещения может значительно увеличить время помещения объектов.
* **При помещении в хранилище необходимо убедиться, что нет регистров без регистраторов, подписок с несуществующими обработчиками, объектов без указания подсистем.**
* **Правила комментирования и помещения изменённых объектов в хранилище описаны в разделе ["Правила комментирования"](/doc/commentrules.md#шаблог-комментария-при-помещении-в-хранилище).**

### Правила "хорошего тона" или "джентельменские соглашения" при работе с хранилищем:
- перед захватом корня (для добавления новых объектов или снятия с поддержки объекта в конфигурации поставщика) – желательно обновить конфигурацию своей локальной тестовой БД из хранилища, чтобы исключить возникновение ошибок вида "обработчик события не найден" и т.д.;
- корень конфигурации по возможности не держать долго. Требуется действовать по принципу: "Захватили – добавили объект – отпустили". После этого сам новый объект захватывается и с ним ведется дальнейшая работа. Не следует оставлять захваченным корень перед выходными и праздничными днями (только если не планируется работа в эти дни);
- не помещать код и объекты в хранилище до тех пор, пока нет уверенности в том, что вся разрабатываемая функциональность работает и сможет пройти тестирование и проверки (если только правилами конкретного проекта не предусмотрена иная логика помещения и тестирования). Подразумевается, что если код помещен в хранилище – значит он готов к внедрению в рабочих базах. Исключение может составить случай, когда кто-то из других разработчиков просит отпустить тот или иной объект. Но даже в этом варианте лучше отпустить объект без помещения его в хранилище (предварительно сохранив свою конфигурацию в отдельный файл). После того, как другой разработчик поработает с объектом и отпустит его – обновить конфигурацию из хранилища, захватить объект и уже в него внести свои изменения через сравнение-объединение с файлом; 
- желательно обновлять конфигурацию из хранилища каждый вечер, перед окончанием рабочего дня; 
- перед обновлением конфигурации из хранилища также рекомендуется посмотреть историю и проанализировать, не были ли за последнее время изменены или добавлены реквизиты в "большие" таблицы БД (если разрабатываемая БД много "весит"). Если таковые изменения были – следует учесть, что после получения объектов из хранилища начнется реструктуризация информационной базы разработчика и эта операция может продлиться долго и рабочее время будет потеряно впустую. В таком случае лучше запускать обновление из хранилища в конце рабочего дня, чтобы реструктуризация прошла в нерабочие часы;
- если какая-то конкретная доработка приводит к длительной реструктуризации – необходимо "придержать" объект до окончания рабочего дня и оповестить всех коллег-разработчиков о необходимости обновления конфигурации из хранилища по окончании рабочего дня (чтобы не останавливать работу команды);
- при помещении в хранилище регистра, подчиненного регистратору – не забывать помещать также и сам регистратор (частая "ошибка новичка"). Помещаемый регистр должен (по возможности) сразу содержать все нужные измерения и ресурсы. При помещении любого нового объекта не забывать поместить роли для работы с ним. При помещении новой подписки на событие не забывать помещать соответствующий обработчик (можно "пустую" процедуру до окончания разработки);
- при помещении объекта в хранилище необходимо обязательно писать краткий комментарий о том, что было сделано (какая функция/процедура изменена/добавлена и т.д.), см. правила комментирования
